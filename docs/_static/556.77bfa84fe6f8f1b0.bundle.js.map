{"version":3,"file":"556.77bfa84fe6f8f1b0.bundle.js","mappings":"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","sources":["webpack://WebComponents/./runestone/dragndrop/js/dragndrop-i18n.en.js","webpack://WebComponents/./runestone/dragndrop/js/dragndrop-i18n.pt-br.js","webpack://WebComponents/./runestone/dragndrop/js/dragndrop.js","webpack://WebComponents/./runestone/dragndrop/js/timeddnd.js"],"sourcesContent":["$.i18n().load({\n    en: {\n        msg_dragndrop_correct_answer: \"You are correct!\",\n        msg_dragndrop_incorrect_answer:\n            \"Incorret. You got $1 correct and $2 incorrect out of $3. You left $4 blank.\",\n        msg_dragndrop_check_me: \"Check me\",\n        msg_dragndrop_reset: \"Reset\",\n    },\n});\n","$.i18n().load({\n    \"pt-br\": {\n        msg_dragndrop_correct_answer: \"Correto!\",\n        msg_dragndrop_incorrect_answer:\n            \"Incorreto. Você teve $1 correto(s) e $2 incorreto(s) de $3. Você deixou $4 em branco.\",\n        msg_dragndrop_check_me: \"Verificar\",\n        msg_dragndrop_reset: \"Resetar\",\n    },\n});\n","/*==========================================\n=======     Master dragndrop.js     ========\n============================================\n===     This file contains the JS for    ===\n=== the Runestone Drag n drop component. ===\n============================================\n===              Created by              ===\n===           Isaiah Mayerchak           ===\n===                7/6/15                ===\n===              Brad MIller             ===\n===                2/7/19                ===\n==========================================*/\n\"use strict\";\n\nimport RunestoneBase from \"../../common/js/runestonebase.js\";\nimport \"../css/dragndrop.css\";\nimport \"./dragndrop-i18n.en.js\";\nimport \"./dragndrop-i18n.pt-br.js\";\n\nexport var ddList = {}; // Dictionary that contains all instances of dragndrop objects\n\nexport default class DragNDrop extends RunestoneBase {\n    constructor(opts) {\n        super(opts);\n        var orig = opts.orig; // entire <ul> element that will be replaced by new HTML\n        this.origElem = orig;\n        this.divid = orig.id;\n        this.useRunestoneServices = opts.useRunestoneServices;\n        this.random = false;\n        if ($(this.origElem).is(\"[data-random]\")) {\n            this.random = true;\n        }\n        this.feedback = \"\";\n        this.dragPairArray = [];\n        this.question = \"\";\n        this.populate(); // Populates this.dragPairArray, this.feedback and this.question\n        this.createNewElements();\n        this.caption = \"Drag-N-Drop\";\n        this.addCaption(\"runestone\");\n    }\n    /*======================\n    === Update variables ===\n    ======================*/\n    populate() {\n        for (var i = 0; i < this.origElem.childNodes.length; i++) {\n            if (\n                $(this.origElem.childNodes[i]).data(\"subcomponent\") ===\n                \"dropzone\"\n            ) {\n                var tmp = $(this.origElem).find(\n                    `#${$(this.origElem.childNodes[i]).attr(\"for\")}`\n                )[0];\n                var replaceSpan = document.createElement(\"span\");\n                replaceSpan.innerHTML = tmp.innerHTML;\n                replaceSpan.id = this.divid + tmp.id;\n                $(replaceSpan).attr(\"draggable\", \"true\");\n                $(replaceSpan).addClass(\"draggable-drag\");\n                var otherReplaceSpan = document.createElement(\"span\");\n                otherReplaceSpan.innerHTML =\n                    this.origElem.childNodes[i].innerHTML;\n                $(otherReplaceSpan).addClass(\"draggable-drop\");\n                this.setEventListeners(replaceSpan, otherReplaceSpan);\n                var tmpArr = [];\n                tmpArr.push(replaceSpan);\n                tmpArr.push(otherReplaceSpan);\n                this.dragPairArray.push(tmpArr);\n            } else if (\n                $(this.origElem.childNodes[i]).data(\"subcomponent\") ===\n                \"question\"\n            ) {\n                this.question = this.origElem.childNodes[i].innerHTML;\n            } else if (\n                $(this.origElem.childNodes[i]).data(\"subcomponent\") ===\n                \"feedback\"\n            ) {\n                this.feedback = this.origElem.childNodes[i].innerHTML;\n            }\n        }\n    }\n    /*========================================\n    == Create new HTML elements and replace ==\n    ==      original element with them      ==\n    ========================================*/\n    createNewElements() {\n        this.containerDiv = document.createElement(\"div\");\n        this.containerDiv.id = this.divid;\n        $(this.containerDiv).addClass(\"draggable-container\");\n        $(this.containerDiv).html(this.question);\n        this.containerDiv.appendChild(document.createElement(\"br\"));\n        this.dragDropWrapDiv = document.createElement(\"div\"); // Holds the draggables/dropzones, prevents feedback from bleeding in\n        $(this.dragDropWrapDiv).css(\"display\", \"block\");\n        this.containerDiv.appendChild(this.dragDropWrapDiv);\n        this.draggableDiv = document.createElement(\"div\");\n        $(this.draggableDiv).addClass(\"rsdraggable dragzone\");\n        this.addDragDivListeners();\n        this.dropZoneDiv = document.createElement(\"div\");\n        $(this.dropZoneDiv).addClass(\"rsdraggable\");\n        this.dragDropWrapDiv.appendChild(this.draggableDiv);\n        this.dragDropWrapDiv.appendChild(this.dropZoneDiv);\n        this.createButtons();\n        this.checkServer(\"dragNdrop\", true);\n    }\n    finishSettingUp() {\n        this.appendReplacementSpans();\n        this.renderFeedbackDiv();\n        $(this.origElem).replaceWith(this.containerDiv);\n        if (!this.hasStoredDropzones) {\n            this.minheight = $(this.draggableDiv).height();\n        }\n        this.draggableDiv.style.minHeight = this.minheight.toString() + \"px\";\n        if ($(this.dropZoneDiv).height() > this.minheight) {\n            this.dragDropWrapDiv.style.minHeight =\n                $(this.dropZoneDiv).height().toString() + \"px\";\n        } else {\n            this.dragDropWrapDiv.style.minHeight =\n                this.minheight.toString() + \"px\";\n        }\n    }\n    addDragDivListeners() {\n        let self = this;\n        this.draggableDiv.addEventListener(\n            \"dragover\",\n            function (ev) {\n                ev.preventDefault();\n                if ($(this.draggableDiv).hasClass(\"possibleDrop\")) {\n                    return;\n                }\n                $(this.draggableDiv).addClass(\"possibleDrop\");\n            }.bind(this)\n        );\n        this.draggableDiv.addEventListener(\n            \"drop\",\n            function (ev) {\n                self.isAnswered = true;\n                ev.preventDefault();\n                if ($(this.draggableDiv).hasClass(\"possibleDrop\")) {\n                    $(this.draggableDiv).removeClass(\"possibleDrop\");\n                }\n                var data = ev.dataTransfer.getData(\"draggableID\");\n                var draggedSpan = document.getElementById(data);\n                if (\n                    !$(this.draggableDiv).has(draggedSpan).length &&\n                    !this.strangerDanger(draggedSpan)\n                ) {\n                    // Make sure element isn't already there--prevents erros w/appending child\n                    this.draggableDiv.appendChild(draggedSpan);\n                }\n            }.bind(this)\n        );\n        this.draggableDiv.addEventListener(\n            \"dragleave\",\n            function (e) {\n                if (!$(this.draggableDiv).hasClass(\"possibleDrop\")) {\n                    return;\n                }\n                $(this.draggableDiv).removeClass(\"possibleDrop\");\n            }.bind(this)\n        );\n    }\n    createButtons() {\n        this.buttonDiv = document.createElement(\"div\");\n        this.submitButton = document.createElement(\"button\"); // Check me button\n        this.submitButton.textContent = $.i18n(\"msg_dragndrop_check_me\");\n        $(this.submitButton).attr({\n            class: \"btn btn-success drag-button\",\n            name: \"do answer\",\n            type: \"button\",\n        });\n        this.submitButton.onclick = function () {\n            this.checkCurrentAnswer();\n            this.renderFeedback();\n            this.logCurrentAnswer();\n        }.bind(this);\n        this.resetButton = document.createElement(\"button\"); // Check me button\n        this.resetButton.textContent = $.i18n(\"msg_dragndrop_reset\");\n        $(this.resetButton).attr({\n            class: \"btn btn-default drag-button drag-reset\",\n            name: \"do answer\",\n        });\n        this.resetButton.onclick = function () {\n            this.resetDraggables();\n        }.bind(this);\n        this.buttonDiv.appendChild(this.submitButton);\n        this.buttonDiv.appendChild(this.resetButton);\n        this.containerDiv.appendChild(this.buttonDiv);\n    }\n    appendReplacementSpans() {\n        this.createIndexArray();\n        this.randomizeIndexArray();\n        for (let i = 0; i < this.dragPairArray.length; i++) {\n            if (this.hasStoredDropzones) {\n                if (\n                    $.inArray(this.indexArray[i][0], this.pregnantIndexArray) <\n                    0\n                ) {\n                    this.draggableDiv.appendChild(\n                        this.dragPairArray[this.indexArray[i]][0]\n                    );\n                }\n            } else {\n                this.draggableDiv.appendChild(\n                    this.dragPairArray[this.indexArray[i]][0]\n                );\n            }\n        }\n        this.randomizeIndexArray();\n        for (let i = 0; i < this.dragPairArray.length; i++) {\n            if (this.hasStoredDropzones) {\n                if (this.pregnantIndexArray[this.indexArray[i]] !== \"-1\") {\n                    this.dragPairArray[this.indexArray[i]][1].appendChild(\n                        this.dragPairArray[\n                            this.pregnantIndexArray[this.indexArray[i]]\n                        ][0]\n                    );\n                }\n            }\n            this.dropZoneDiv.appendChild(\n                this.dragPairArray[this.indexArray[i]][1]\n            );\n        }\n    }\n    setEventListeners(dgSpan, dpSpan) {\n        // Adds HTML5 \"drag and drop\" UI functionality\n        let self = this;\n        dgSpan.addEventListener(\"dragstart\", function (ev) {\n            ev.dataTransfer.setData(\"draggableID\", ev.target.id);\n        });\n        dgSpan.addEventListener(\"dragover\", function (ev) {\n            ev.preventDefault();\n        });\n        dgSpan.addEventListener(\n            \"drop\",\n            function (ev) {\n                self.isAnswered = true;\n                ev.preventDefault();\n                var data = ev.dataTransfer.getData(\"draggableID\");\n                var draggedSpan = document.getElementById(data);\n                if (\n                    this.hasNoDragChild(ev.target) &&\n                    draggedSpan != ev.target &&\n                    !this.strangerDanger(draggedSpan)\n                ) {\n                    // Make sure element isn't already there--prevents erros w/appending child\n                    this.draggableDiv.appendChild(draggedSpan);\n                }\n            }.bind(this)\n        );\n        dpSpan.addEventListener(\n            \"dragover\",\n            function (ev) {\n                self.isAnswered = true;\n                ev.preventDefault();\n                if ($(ev.target).hasClass(\"possibleDrop\")) {\n                    return;\n                }\n                if (\n                    $(ev.target).hasClass(\"draggable-drop\") &&\n                    this.hasNoDragChild(ev.target)\n                ) {\n                    $(ev.target).addClass(\"possibleDrop\");\n                }\n            }.bind(this)\n        );\n        dpSpan.addEventListener(\"dragleave\", function (ev) {\n            self.isAnswered = true;\n            ev.preventDefault();\n            if (!$(ev.target).hasClass(\"possibleDrop\")) {\n                return;\n            }\n            $(ev.target).removeClass(\"possibleDrop\");\n        });\n        dpSpan.addEventListener(\n            \"drop\",\n            function (ev) {\n                self.isAnswered = true;\n                ev.preventDefault();\n                if ($(ev.target).hasClass(\"possibleDrop\")) {\n                    $(ev.target).removeClass(\"possibleDrop\");\n                }\n                var data = ev.dataTransfer.getData(\"draggableID\");\n                var draggedSpan = document.getElementById(data);\n                if (\n                    $(ev.target).hasClass(\"draggable-drop\") &&\n                    this.hasNoDragChild(ev.target) &&\n                    !this.strangerDanger(draggedSpan)\n                ) {\n                    // Make sure element isn't already there--prevents erros w/appending child\n                    ev.target.appendChild(draggedSpan);\n                }\n            }.bind(this)\n        );\n    }\n    renderFeedbackDiv() {\n        if (!this.feedBackDiv) {\n            this.feedBackDiv = document.createElement(\"div\");\n            this.feedBackDiv.id = this.divid + \"_feedback\";\n            this.containerDiv.appendChild(document.createElement(\"br\"));\n            this.containerDiv.appendChild(this.feedBackDiv);\n        }\n    }\n    /*=======================\n    == Auxiliary functions ==\n    =======================*/\n    strangerDanger(testSpan) {\n        // Returns true if the test span doesn't belong to this instance of DragNDrop\n        var strangerDanger = true;\n        for (var i = 0; i < this.dragPairArray.length; i++) {\n            if (testSpan === this.dragPairArray[i][0]) {\n                strangerDanger = false;\n            }\n        }\n        return strangerDanger;\n    }\n    hasNoDragChild(parent) {\n        // Ensures that each dropZoneDiv can have only one draggable child\n        var counter = 0;\n        for (var i = 0; i < parent.childNodes.length; i++) {\n            if ($(parent.childNodes[i]).attr(\"draggable\") === \"true\") {\n                counter++;\n            }\n        }\n        if (counter >= 1) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n    createIndexArray() {\n        this.indexArray = [];\n        for (var i = 0; i < this.dragPairArray.length; i++) {\n            this.indexArray.push(i);\n        }\n    }\n    randomizeIndexArray() {\n        // Shuffles around indices so the matchable elements aren't in a predictable order\n        var currentIndex = this.indexArray.length,\n            temporaryValue,\n            randomIndex;\n        // While there remain elements to shuffle...\n        while (currentIndex !== 0) {\n            // Pick a remaining element...\n            randomIndex = Math.floor(Math.random() * currentIndex);\n            currentIndex -= 1;\n            // And swap it with the current element.\n            temporaryValue = this.indexArray[currentIndex];\n            this.indexArray[currentIndex] = this.indexArray[randomIndex];\n            this.indexArray[randomIndex] = temporaryValue;\n        }\n    }\n    /*==============================\n    == Reset button functionality ==\n    ==============================*/\n    resetDraggables() {\n        for (var i = 0; i < this.dragPairArray.length; i++) {\n            for (\n                var j = 0;\n                j < this.dragPairArray[i][1].childNodes.length;\n                j++\n            ) {\n                if (\n                    $(this.dragPairArray[i][1].childNodes[j]).attr(\n                        \"draggable\"\n                    ) === \"true\"\n                ) {\n                    this.draggableDiv.appendChild(\n                        this.dragPairArray[i][1].childNodes[j]\n                    );\n                }\n            }\n        }\n        this.feedBackDiv.style.display = \"none\";\n    }\n    /*===========================\n    == Evaluation and feedback ==\n    ===========================*/\n\n    checkCurrentAnswer() {\n        this.correct = true;\n        this.unansweredNum = 0;\n        this.incorrectNum = 0;\n        this.dragNum = this.dragPairArray.length;\n        for (var i = 0; i < this.dragPairArray.length; i++) {\n            if (\n                !$(this.dragPairArray[i][1]).has(this.dragPairArray[i][0])\n                    .length\n            ) {\n                this.correct = false;\n                this.incorrectNum++;\n            }\n            if (this.hasNoDragChild(this.dragPairArray[i][1])) {\n                this.unansweredNum++;\n                this.incorrectNum -= 1;\n            }\n        }\n        this.correctNum = this.dragNum - this.incorrectNum - this.unansweredNum;\n        this.percent = this.correctNum / this.dragPairArray.length;\n        this.setLocalStorage({ correct: this.correct ? \"T\" : \"F\" });\n    }\n\n    async logCurrentAnswer(sid) {\n        let answer = this.pregnantIndexArray.join(\";\");\n        let data = {\n            event: \"dragNdrop\",\n            act: answer,\n            answer: answer,\n            min_height: this.minheight,\n            div_id: this.divid,\n            correct: this.correct,\n            correctNum: this.correctNum,\n            dragNum: this.dragNum,\n        };\n        if (typeof sid !== \"undefined\") {\n            data.sid = sid;\n        }\n        await this.logBookEvent(data);\n    }\n    renderFeedback() {\n        for (var i = 0; i < this.dragPairArray.length; i++) {\n            if (\n                !$(this.dragPairArray[i][1]).has(this.dragPairArray[i][0])\n                    .length\n            ) {\n                $(this.dragPairArray[i][1]).addClass(\"drop-incorrect\");\n            } else {\n                $(this.dragPairArray[i][1]).removeClass(\"drop-incorrect\");\n            }\n        }\n\n        if (!this.feedBackDiv) {\n            this.renderFeedbackDiv();\n        }\n        this.feedBackDiv.style.display = \"block\";\n        if (this.correct) {\n            var msgCorrect = $.i18n(\"msg_dragndrop_correct_answer\");\n            $(this.feedBackDiv).html(msgCorrect);\n            $(this.feedBackDiv).attr(\n                \"class\",\n                \"alert alert-info draggable-feedback\"\n            );\n        } else {\n            var msgIncorrect = $.i18n(\n                $.i18n(\"msg_dragndrop_incorrect_answer\"),\n                this.correctNum,\n                this.incorrectNum,\n                this.dragNum,\n                this.unansweredNum\n            );\n            $(this.feedBackDiv).html(msgIncorrect + \" \" + this.feedback);\n            $(this.feedBackDiv).attr(\n                \"class\",\n                \"alert alert-danger draggable-feedback\"\n            );\n        }\n    }\n    /*===================================\n    === Checking/restoring from storage ===\n    ===================================*/\n    restoreAnswers(data) {\n        // Restore answers from storage retrieval done in RunestoneBase\n        this.hasStoredDropzones = true;\n        this.minheight = data.min_height;\n        this.pregnantIndexArray = data.answer.split(\";\");\n        this.finishSettingUp();\n    }\n    checkLocalStorage() {\n        if (this.graderactive) {\n            return;\n        }\n        var storedObj;\n        this.hasStoredDropzones = false;\n        var len = localStorage.length;\n        if (len > 0) {\n            var ex = localStorage.getItem(this.localStorageKey());\n            if (ex !== null) {\n                this.hasStoredDropzones = true;\n                try {\n                    storedObj = JSON.parse(ex);\n                    this.minheight = storedObj.min_height;\n                } catch (err) {\n                    // error while parsing; likely due to bad value stored in storage\n                    console.log(err.message);\n                    localStorage.removeItem(this.localStorageKey());\n                    this.hasStoredDropzones = false;\n                    this.finishSettingUp();\n                    return;\n                }\n                this.pregnantIndexArray = storedObj.answer.split(\";\");\n                if (this.useRunestoneServices) {\n                    // store answer in database\n                    var answer = this.pregnantIndexArray.join(\";\");\n                    this.logBookEvent({\n                        event: \"dragNdrop\",\n                        act: answer,\n                        answer: answer,\n                        min_height: this.minheight,\n                        div_id: this.divid,\n                        correct: storedObj.correct,\n                    });\n                }\n            }\n        }\n        this.finishSettingUp();\n    }\n\n    setLocalStorage(data) {\n        if (data.answer === undefined) {\n            // If we didn't load from the server, we must generate the data\n            this.pregnantIndexArray = [];\n            for (var i = 0; i < this.dragPairArray.length; i++) {\n                if (!this.hasNoDragChild(this.dragPairArray[i][1])) {\n                    for (var j = 0; j < this.dragPairArray.length; j++) {\n                        if (\n                            $(this.dragPairArray[i][1]).has(\n                                this.dragPairArray[j][0]\n                            ).length\n                        ) {\n                            this.pregnantIndexArray.push(j);\n                        }\n                    }\n                } else {\n                    this.pregnantIndexArray.push(-1);\n                }\n            }\n        }\n        var timeStamp = new Date();\n        var correct = data.correct;\n        var storageObj = {\n            answer: this.pregnantIndexArray.join(\";\"),\n            min_height: this.minheight,\n            timestamp: timeStamp,\n            correct: correct,\n        };\n        localStorage.setItem(\n            this.localStorageKey(),\n            JSON.stringify(storageObj)\n        );\n    }\n\n    disableInteraction() {\n        $(this.resetButton).hide();\n        for (var i = 0; i < this.dragPairArray.length; i++) {\n            // No more dragging\n            $(this.dragPairArray[i][0]).attr(\"draggable\", \"false\");\n            $(this.dragPairArray[i][0]).css(\"cursor\", \"initial\");\n        }\n    }\n}\n\n/*=================================\n== Find the custom HTML tags and ==\n==   execute our code on them    ==\n=================================*/\n$(document).on(\"runestone:login-complete\", function () {\n    $(\"[data-component=dragndrop]\").each(function (index) {\n        var opts = {\n            orig: this,\n            useRunestoneServices: eBookConfig.useRunestoneServices,\n        };\n        if ($(this).closest(\"[data-component=timedAssessment]\").length == 0) {\n            // If this element exists within a timed component, don't render it here\n            try {\n                ddList[this.id] = new DragNDrop(opts);\n            } catch (err) {\n                console.log(`Error rendering DragNDrop Problem ${this.id}`);\n            }\n        }\n    });\n});\n","\"use strict\";\n\nimport DragNDrop from \"./dragndrop.js\";\n\nexport default class TimedDragNDrop extends DragNDrop {\n    constructor(opts) {\n        super(opts);\n        this.finishSettingUp();\n        this.renderTimedIcon(this.containerDiv);\n        this.hideButtons();\n    }\n    hideButtons() {\n        $(this.submitButton).hide();\n    }\n    renderTimedIcon(component) {\n        // renders the clock icon on timed components.    The component parameter\n        // is the element that the icon should be appended to.\n        var timeIconDiv = document.createElement(\"div\");\n        var timeIcon = document.createElement(\"img\");\n        $(timeIcon).attr({\n            src: \"../_static/clock.png\",\n            style: \"width:15px;height:15px\",\n        });\n        timeIconDiv.className = \"timeTip\";\n        timeIconDiv.title = \"\";\n        timeIconDiv.appendChild(timeIcon);\n        $(component).prepend(timeIconDiv);\n    }\n    checkCorrectTimed() {\n        // Returns if the question was correct.    Used for timed assessment grading.\n        if (this.unansweredNum === this.dragPairArray.length) {\n            this.correct = null;\n        }\n        switch (this.correct) {\n            case true:\n                return \"T\";\n            case false:\n                return \"F\";\n            default:\n                return null;\n        }\n    }\n    hideFeedback() {\n        $(this.feedBackDiv).hide();\n    }\n}\n\nif (typeof window.component_factory === \"undefined\") {\n    window.component_factory = {};\n}\nwindow.component_factory[\"dragndrop\"] = function (opts) {\n    if (opts.timed) {\n        return new TimedDragNDrop(opts);\n    }\n    return new DragNDrop(opts);\n};\n"],"names":["$","i18n","load","en","msg_dragndrop_correct_answer","msg_dragndrop_incorrect_answer","msg_dragndrop_check_me","msg_dragndrop_reset","ddList","DragNDrop","constructor","opts","super","orig","this","origElem","divid","id","useRunestoneServices","random","is","feedback","dragPairArray","question","populate","createNewElements","caption","addCaption","i","childNodes","length","data","tmp","find","attr","replaceSpan","document","createElement","innerHTML","addClass","otherReplaceSpan","setEventListeners","tmpArr","push","containerDiv","html","appendChild","dragDropWrapDiv","css","draggableDiv","addDragDivListeners","dropZoneDiv","createButtons","checkServer","finishSettingUp","appendReplacementSpans","renderFeedbackDiv","replaceWith","hasStoredDropzones","minheight","height","style","minHeight","toString","self","addEventListener","ev","preventDefault","hasClass","bind","isAnswered","removeClass","dataTransfer","getData","draggedSpan","getElementById","has","strangerDanger","e","buttonDiv","submitButton","textContent","class","name","type","onclick","checkCurrentAnswer","renderFeedback","logCurrentAnswer","resetButton","resetDraggables","createIndexArray","randomizeIndexArray","inArray","indexArray","pregnantIndexArray","dgSpan","dpSpan","setData","target","hasNoDragChild","feedBackDiv","testSpan","parent","counter","temporaryValue","randomIndex","currentIndex","Math","floor","j","display","correct","unansweredNum","incorrectNum","dragNum","correctNum","percent","setLocalStorage","async","sid","answer","join","event","act","min_height","div_id","logBookEvent","msgCorrect","msgIncorrect","restoreAnswers","split","checkLocalStorage","graderactive","storedObj","localStorage","ex","getItem","localStorageKey","JSON","parse","err","console","log","message","removeItem","undefined","timeStamp","Date","storageObj","timestamp","setItem","stringify","disableInteraction","hide","on","each","index","eBookConfig","closest","TimedDragNDrop","renderTimedIcon","hideButtons","component","timeIconDiv","timeIcon","src","className","title","prepend","checkCorrectTimed","hideFeedback","window","component_factory","timed"],"sourceRoot":""}