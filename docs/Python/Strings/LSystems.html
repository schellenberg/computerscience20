<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>4. Turtle Drawing and Strings (L-Systems) &#8212; Computer Science 20 Saskatchewan</title>
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/accessibility.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/activecode.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/codemirror.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/clickable.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pytutor.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/modal-basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/datafile.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/dragndrop.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/fitb.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/matrixeq.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/p5.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/parsons.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/js_lib/prettify.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/poll.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/showEval.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/tabbedstuff.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/video.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/webgldemo.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/webglinteractive.css" type="text/css" />
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootswatch/2.3.1/""/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/jquery.highlight.js"></script>
    <script type="text/javascript" src="../../_static/bookfuncs.js"></script>
    <script type="text/javascript" src="../../_static/codemirror.js"></script>
    <script type="text/javascript" src="../../_static/xml.js"></script>
    <script type="text/javascript" src="../../_static/css.js"></script>
    <script type="text/javascript" src="../../_static/python.js"></script>
    <script type="text/javascript" src="../../_static/htmlmixed.js"></script>
    <script type="text/javascript" src="../../_static/javascript.js"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/CLDRPluralRuleParser.js"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.js"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.messagestore.js"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.fallbacks.js"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.language.js"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.parser.js"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.emitter.js"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.emitter.bidi.js"></script>
    <script type="text/javascript" src="../../_static/activecode-i18n.en.js"></script>
    <script type="text/javascript" src="../../_static/skulpt.min.js"></script>
    <script type="text/javascript" src="../../_static/skulpt-stdlib.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.2/build/vega.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@2.5.0/build/vega-lite.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@3.14.0/build/vega-embed.js"></script>
    <script type="text/javascript" src="../../_static/activecode.js"></script>
    <script type="text/javascript" src="../../_static/clike.js"></script>
    <script type="text/javascript" src="../../_static/timed_activecode.js"></script>
    <script type="text/javascript" src="../../_static/animationbase.js"></script>
    <script type="text/javascript" src="../../_static/mchoice.js"></script>
    <script type="text/javascript" src="../../_static/timedmc.js"></script>
    <script type="text/javascript" src="../../_static/timed.js"></script>
    <script type="text/javascript" src="../../_static/clickable.js"></script>
    <script type="text/javascript" src="../../_static/timedclickable.js"></script>
    <script type="text/javascript" src="../../_static/d3.v2.min.js"></script>
    <script type="text/javascript" src="../../_static/jquery.ba-bbq.min.js"></script>
    <script type="text/javascript" src="../../_static/jquery.jsPlumb-1.3.10-all-min.js"></script>
    <script type="text/javascript" src="../../_static/pytutor.js"></script>
    <script type="text/javascript" src="../../_static/codelens.js"></script>
    <script type="text/javascript" src="../../_static/datafile.js"></script>
    <script type="text/javascript" src="../../_static/dragndrop.js"></script>
    <script type="text/javascript" src="../../_static/timeddnd.js"></script>
    <script type="text/javascript" src="../../_static/fitb.js"></script>
    <script type="text/javascript" src="../../_static/timedfitb.js"></script>
    <script type="text/javascript" src="../../_static/matrixeq.js"></script>
    <script type="text/javascript" src="../../_static/p5-widget.js"></script>
    <script type="text/javascript" src="../../_static/js_lib/prettify.js"></script>
    <script type="text/javascript" src="../../_static/js_lib/hammer.min.js"></script>
    <script type="text/javascript" src="../../_static/parsons.js"></script>
    <script type="text/javascript" src="../../_static/timedparsons.js"></script>
    <script type="text/javascript" src="../../_static/poll.js"></script>
    <script type="text/javascript" src="../../_static/reveal.js"></script>
    <script type="text/javascript" src="../../_static/shortanswer.js"></script>
    <script type="text/javascript" src="../../_static/timed_shortanswer.js"></script>
    <script type="text/javascript" src="../../_static/showEval.js"></script>
    <script type="text/javascript" src="../../_static/tabbedstuff.js"></script>
    <script type="text/javascript" src="../../_static/runestonevideo.js"></script>
    <script type="text/javascript" src="../../_static/webglinteractive.js"></script>
    <script type="text/javascript" src="../../_static/FileSaver.min.js"></script>
    <script type="text/javascript" src="../../_static/Blob.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="1. Using Lists" href="../Lists/ListOverview.html" />
    <link rel="prev" title="3. String Methods" href="StringMethods.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'cs20sk';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'cs20sk';
  eBookConfig.runestone_version = '3.2.4';
</script>



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <a class="brand-logo" style='background: transparent url("../../_static/img/logo_small.png") no-repeat 0px 0px;' href="../../index.html">&nbsp; </a>
        <a class="navbar-brand" href="../../index.html">Computer Science 20 - Saskatchewan</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../../index.html'>Table of Contents</a></li>
            
            <li><a href='/genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">ActiveCode Work Area</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        <!--
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">4. Turtle Drawing and Strings (L-Systems)</a><ul>
<li><a class="reference internal" href="#controlling-a-turtle-with-strings">4.1. Controlling a Turtle With Strings</a><ul>
<li><a class="reference internal" href="#try-this">4.1.1. Try This</a></li>
</ul>
</li>
<li><a class="reference internal" href="#turtles-and-strings-and-l-systems">4.2. Turtles and Strings and L-Systems</a></li>
<li><a class="reference internal" href="#drawing-with-l-systems">4.3. Drawing With L-Systems</a></li>
<li><a class="reference internal" href="#practice-problems">4.4. Practice Problems</a><ul>
<li><a class="reference internal" href="#hilbert-curve">4.4.1. Hilbert Curve</a></li>
<li><a class="reference internal" href="#dragon-curve">4.4.2. Dragon Curve</a></li>
<li><a class="reference internal" href="#arrowhead-curve">4.4.3. Arrowhead Curve</a></li>
<li><a class="reference internal" href="#peano-gosper-curve">4.4.4. Peano-Gosper Curve</a></li>
<li><a class="reference internal" href="#sierpinski-triangle">4.4.5. Sierpinski Triangle</a></li>
<li><a class="reference internal" href="#snowflake">4.4.6. Snowflake</a></li>
<li><a class="reference internal" href="#unnamed-shape">4.4.7. Unnamed Shape</a></li>
<li><a class="reference internal" href="#making-your-own-shapes">4.4.8. Making Your Own Shapes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
          <li class="divider-vertical"></li>
        
        
          
  <li id="relations-prev" title="Previous Chapter - 3. String Methods" data-toggle="tooltip">
    <a href="StringMethods.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - 1. Using Lists' data-toggle="tooltip" >
    <a href="../Lists/ListOverview.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="turtle-drawing-and-strings-l-systems">
<h1>4. Turtle Drawing and Strings (L-Systems)<a class="headerlink" href="#turtle-drawing-and-strings-l-systems" title="Permalink to this headline">¶</a></h1>
<div class="topic">
<p class="topic-title first">Quick Overview of Day</p>
<p>Turtle drawing by interpreting strings. L-Systems to generate strings. Draw interesting patterns using L-System strings.</p>
</div>
<div class="section" id="controlling-a-turtle-with-strings">
<h2>4.1. Controlling a Turtle With Strings<a class="headerlink" href="#controlling-a-turtle-with-strings" title="Permalink to this headline">¶</a></h2>
<p>By combining what we know about moving turtles on the screen, and what we have learned about traversing strings, we can now write a program that controls the movement of a turtle based on a string. For example, the string <code class="docutils literal notranslate"><span class="pre">FF+F-FF</span></code> might make a turtle:</p>
<ul class="simple">
<li>move forward by some distance twice in a row</li>
<li>turn right by some angle</li>
<li>move forward again</li>
<li>turn left by some angle</li>
<li>move forward twice in a row</li>
</ul>
<p>To turn a string like <code class="docutils literal notranslate"><span class="pre">FF+F-FF</span></code> into a set of instructions that our turtle can execute, we need to look at each character of the string, one at a time. We can do this easily with a for loop, as you can see in the following example.</p>

<div data-childcomponent="string_turtle_movement_1" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=string_turtle_movement_1 data-lang="python" 
      data-timelimit=25000  data-codelens="true"  
    data-audio=''   
          >
import turtle

canvas = turtle.Screen()
escher = turtle.Turtle()
escher.speed(1)

instructions = "FF+F-FF"

for task in instructions:
    if task == "F":
        escher.forward(25)
    elif task == "+":
        escher.right(45)
    elif task == "-":
        escher.left(45)
</textarea>
</div>
<div class="section" id="try-this">
<h3>4.1.1. Try This<a class="headerlink" href="#try-this" title="Permalink to this headline">¶</a></h3>
<p>In the code above, try:</p>
<ul class="simple">
<li>changing the instruction string to have the turtle draw a different image</li>
<li>adding three additional possible instruction for the turtle. Any <code class="docutils literal notranslate"><span class="pre">B</span></code> in the string should be interpreted as an instruction to move backwards (by the same amount as <code class="docutils literal notranslate"><span class="pre">F</span></code> moves forward). A <code class="docutils literal notranslate"><span class="pre">U</span></code> should cause the turtle to pick up it’s pen (so it doesn’t draw as it moves). A <code class="docutils literal notranslate"><span class="pre">D</span></code> should cause the turtle should put down it’s pen (so that it draws as it moves).</li>
<li>increasing the speed of the turtle</li>
</ul>
<p>After completing the tasks above, try having the turtle use the following instruction string: <code class="docutils literal notranslate"><span class="pre">UBBBBBBDF-F++F-F-F-F++F-F++F-F++F-F-F-F++F-F</span></code></p>
</div>
</div>
<div class="section" id="turtles-and-strings-and-l-systems">
<span id="index-0"></span><h2>4.2. Turtles and Strings and L-Systems<a class="headerlink" href="#turtles-and-strings-and-l-systems" title="Permalink to this headline">¶</a></h2>
<p>This section describes a much more interesting example of string iteration and the accumulator pattern.  Even though it seems like we are doing something that is much more complex, the basic processing is the same as was shown in the previous sections.</p>
<p>In 1968 Aristid Lindenmayer, a biologist, invented a formal system that
provides a mathematical description of plant growth known as an
<strong>L-system</strong>.  L-systems were designed to model the growth of biological
systems.  You can think of L-systems as containing the instructions for how
a single cell can grow into a complex organism.  L-systems can be used to
specify the <strong>rules</strong> for all kinds of interesting patterns.  In our case, we are going to use them to specify the rules for drawing pictures.</p>
<p>The rules of an L-system are really a set of instructions for transforming
one string into a new string.  After a number of these string transformations
are complete, the string contains a set of instructions.  Our plan is to let these instructions direct a turtle as it draws a picture.</p>
<p>To begin, we will look at an example set of rules:</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>A</td>
<td>Axiom</td>
</tr>
<tr class="row-even"><td>A -&gt; B</td>
<td>Rule 1 Change A to B</td>
</tr>
<tr class="row-odd"><td>B -&gt; AB</td>
<td>Rule 2 Change B to AB</td>
</tr>
</tbody>
</table>
<p>Each rule set contains an axiom which represents the starting point in the transformations that will follow.  The rules are of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">left</span> <span class="n">hand</span> <span class="n">side</span> <span class="o">-&gt;</span> <span class="n">right</span> <span class="n">hand</span> <span class="n">side</span>
</pre></div>
</div>
<p>where the left hand side is a single symbol and the right hand side is a sequence of symbols.  You can think of both sides as being simple strings.
The way the rules are used is to replace occurrences of the left hand side with the corresponding right hand side.</p>
<p>Now let’s look at these simple rules in action, starting with the string A:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span>A
B      Apply Rule 1  (A is replaced by B)
AB     Apply Rule 2  (B is replaced by AB)
BAB    Apply Rule 1 to A then Rule 2 to B
ABBAB  Apply Rule 2 to B, Rule 1 to A, and Rule 2 to B
</pre></div>
</div>
<p>Notice that each line represents a new transformation for entire string.  Each character that matches a left-hand side of a rule in the original has been replaced by the corresponding right-hand side of that same rule.  After doing the replacement for
each character in the original, we have one transformation.</p>
<p>So how would we encode these rules in a Python program?  There are a couple
of very important things to note here:</p>
<ol class="arabic simple">
<li>Rules are very much like if statements.</li>
<li>We are going to start with a string and iterate over each of its characters.</li>
<li>As we apply the rules to one string we leave that string alone and create
a brand new string using the accumulator pattern.  When we are all done with the original we replace it
with the new string.</li>
</ol>
<p>Let’s look at a simple Python program that implements the example set of rules described
above.</p>

<div data-childcomponent="string_l_systems_1" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=string_l_systems_1 data-lang="python" 
      data-timelimit=25000  data-codelens="true"  
    data-audio=''   
          >
def apply_rules(letter):
    """Apply rules to an individual letter, and return the result."""
    # Rule 1
    if letter == 'A':
        new_string = 'B'

    # Rule 2
    elif letter == 'B':
        new_string = 'AB'

    # no rules apply so keep the character
    else:
        new_string = letter

    return new_string

def process_string(original_string):
    """Apply rules to a string, one letter at a time, and return the result."""
    tranformed_string = ""
    for letter in original_string:
        tranformed_string = tranformed_string + apply_rules(letter)

    return tranformed_string

def create_l_system(number_of_iterations, axiom):
    """Begin with an axiom, and apply rules to the original axiom string number_of_iterations times, then return the result."""
    start_string = axiom
    for counter in range(number_of_iterations):
        end_string = process_string(start_string)
        start_string = end_string

    return end_string

print(create_l_system(4, "A"))
</textarea>
</div>
<p>Try running the example above with different values for the <code class="docutils literal notranslate"><span class="pre">number_of_iterations</span></code>
parameter.  You should see that for values 1, 2, 3, and 4, the strings generated follow the
example above exactly.</p>
<p>One of the nice things about the program above is that if you want to
implement a different set of rules, you don’t need to re-write the entire
program. All you need to do is re-write the <code class="docutils literal notranslate"><span class="pre">apply_rules</span></code> function.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Suppose you had the following rules:</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>A</td>
<td>Axiom</td>
</tr>
<tr class="row-even"><td>A -&gt; BAB</td>
<td>Rule 1 Change A to BAB</td>
</tr>
</tbody>
</table>
<p class="last">What kind of a string would these rules create?  Modify the program above to
implement the rule.</p>
</div>
</div>
<div class="section" id="drawing-with-l-systems">
<h2>4.3. Drawing With L-Systems<a class="headerlink" href="#drawing-with-l-systems" title="Permalink to this headline">¶</a></h2>
<p>Now let’s look at a real L-system that implements a famous drawing.  This
L-system has just one rule:</p>
<table border="1" class="docutils">
<colgroup>
<col width="38%" />
<col width="62%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>F</td>
<td>Axiom</td>
</tr>
<tr class="row-even"><td>F -&gt; F-F++F-F</td>
<td>Rule 1</td>
</tr>
</tbody>
</table>
<p>This L-system uses symbols that will have special meaning when we use them later with the turtle to draw a picture.</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>F</td>
<td>Go forward by some number of units</td>
</tr>
<tr class="row-even"><td>B</td>
<td>Go backward by some number of units</td>
</tr>
<tr class="row-odd"><td>-</td>
<td>Turn left by some degrees</td>
</tr>
<tr class="row-even"><td>+</td>
<td>Turn right by some degrees</td>
</tr>
</tbody>
</table>
<p>Here is the <code class="docutils literal notranslate"><span class="pre">apply_rules</span></code> function for this L-system.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">apply_rules</span><span class="p">(</span><span class="n">letter</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Apply rules to an individual letter, and return the result.&quot;&quot;&quot;</span>
    <span class="c1"># Rule 1</span>
    <span class="k">if</span> <span class="n">letter</span> <span class="o">==</span> <span class="s1">&#39;F&#39;</span><span class="p">:</span>
        <span class="n">new_string</span> <span class="o">=</span> <span class="s1">&#39;F-F++F-F&#39;</span>

    <span class="c1"># no rules apply so keep the character</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">new_string</span> <span class="o">=</span> <span class="n">letter</span>

    <span class="k">return</span> <span class="n">new_string</span>
</pre></div>
</div>
<p>Pretty simple so far.  As you can imagine this string will get pretty long
with a few applications of the rules.  You might try to expand the string a
couple of times on your own just to see.</p>
<p>The last step is to take the final string and turn it into a picture.  Let’s
assume that we are always going to go forward or backward by 5 units.  In
addition we will also assume that when the turtle turns left or right we’ll
turn by 60 degrees.  Now look at the string <code class="docutils literal notranslate"><span class="pre">F-F++F-F</span></code>.  <em>This is the string we used to draw a simple image at the start of this section!</em>  At this point its not a very exciting
drawing, but once we expand it a few times it will get a lot more interesting.</p>
<p>To create a Python function to draw a string we will write a function called
<code class="docutils literal notranslate"><span class="pre">draw_l_system</span></code>  The function will take four parameters:</p>
<ul class="simple">
<li>A turtle to do the drawing</li>
<li>An expanded string that contains the results of expanding the rules above.</li>
<li>An angle to turn</li>
<li>A distance to move forward or backward</li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">draw_l_system</span><span class="p">(</span><span class="n">some_turtle</span><span class="p">,</span> <span class="n">instructions</span><span class="p">,</span> <span class="n">angle</span><span class="p">,</span> <span class="n">distance</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">instructions</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">task</span> <span class="o">==</span> <span class="s1">&#39;F&#39;</span><span class="p">:</span>
            <span class="n">some_turtle</span><span class="o">.</span><span class="n">forward</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">task</span> <span class="o">==</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span>
            <span class="n">some_turtle</span><span class="o">.</span><span class="n">backward</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">task</span> <span class="o">==</span> <span class="s1">&#39;+&#39;</span><span class="p">:</span>
            <span class="n">some_turtle</span><span class="o">.</span><span class="n">right</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">task</span> <span class="o">==</span> <span class="s1">&#39;-&#39;</span><span class="p">:</span>
            <span class="n">some_turtle</span><span class="o">.</span><span class="n">left</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
</pre></div>
</div>
<p>Here is the complete program, which combines generating the L-System string, and then using it to draw with the turtle.</p>

<div data-childcomponent="string_l_systems_2" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=string_l_systems_2 data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
          >
import turtle

def apply_rules(letter):
    """Apply rules to an individual letter, and return the result."""
    # Rule 1
    if letter == 'F':
        new_string = 'F-F++F-F'

    # no rules apply so keep the character
    else:
        new_string = letter

    return new_string

def process_string(original_string):
    """Apply rules to a string, one letter at a time, and return the result."""
    tranformed_string = ""
    for letter in original_string:
        tranformed_string = tranformed_string + apply_rules(letter)

    return tranformed_string

def create_l_system(number_of_iterations, axiom):
    """Begin with an axiom, and apply rules to the original axiom string number_of_iterations times, then return the result."""
    start_string = axiom
    for counter in range(number_of_iterations):
        end_string = process_string(start_string)
        start_string = end_string

    return end_string

def draw_l_system(some_turtle, instructions, angle, distance):
    """Draw with some_turtle, interpreting each letter in the instructions passed in."""
    for task in instructions:
        if task == 'F':
            some_turtle.forward(distance)
        elif task == 'B':
            some_turtle.backward(distance)
        elif task == '+':
            some_turtle.right(angle)
        elif task == '-':
            some_turtle.left(angle)

############################################################################

# create the string of turtle instructions
instruction_string = create_l_system(4, "F")
print(instruction_string)

# setup for drawing
window = turtle.Screen()
jill = turtle.Turtle()
jill.speed(0)

# using screen.tracer() speeds up your drawing (by skipping some frames when drawing)
#window.tracer(10)

# move turtle to left side of screen
jill.up()
jill.back(200)
jill.down()

# draw the picture, using angle 60 and segment length 5
draw_l_system(jill, instruction_string, 60, 5)
</textarea>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Try some different angles and segment lengths to see how the drawing changes. Start with 90 degrees, and experiment from there. You might want to use Thonny when experimenting, since Thonny makes it easy to end a program at any point. Using <code class="docutils literal notranslate"><span class="pre">window.tracer(10)</span></code> will also greatly speed up your programs.</p>
</div>
</div>
<div class="section" id="practice-problems">
<h2>4.4. Practice Problems<a class="headerlink" href="#practice-problems" title="Permalink to this headline">¶</a></h2>
<p>Adapt the template code given above to create drawings of other famous L-Systems.</p>
<div class="section" id="hilbert-curve">
<h3>4.4.1. Hilbert Curve<a class="headerlink" href="#hilbert-curve" title="Permalink to this headline">¶</a></h3>
<p>Use the following axiom and rules to create the Hilbert curve. Use an angle of 90 degrees.</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">L</span></code></td>
<td>Axiom</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">L</span> <span class="pre">-&gt;</span> <span class="pre">+RF-LFL-FR+</span></code></td>
<td>Rule 1</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">-&gt;</span> <span class="pre">-LF+RFR+FL-</span></code></td>
<td>Rule 2</td>
</tr>
</tbody>
</table>

<div data-childcomponent="strings_l_systems_practice_1" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=strings_l_systems_practice_1 data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
          >
# adapt the template code given above to draw this image
</textarea>
</div>
</div>
<div class="section" id="dragon-curve">
<h3>4.4.2. Dragon Curve<a class="headerlink" href="#dragon-curve" title="Permalink to this headline">¶</a></h3>
<p>Use the following axiom and rules to create the dragon curve. Use an angle of 90 degrees.</p>
<table border="1" class="docutils">
<colgroup>
<col width="46%" />
<col width="54%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">FX</span></code></td>
<td>Axiom</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">-&gt;</span> <span class="pre">X+YF+</span></code></td>
<td>Rule 1</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">Y</span> <span class="pre">-&gt;</span> <span class="pre">-FX-Y</span></code></td>
<td>Rule 2</td>
</tr>
</tbody>
</table>

<div data-childcomponent="strings_l_systems_practice_2" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=strings_l_systems_practice_2 data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
          >
# adapt the template code given above to draw this image
</textarea>
</div>
</div>
<div class="section" id="arrowhead-curve">
<h3>4.4.3. Arrowhead Curve<a class="headerlink" href="#arrowhead-curve" title="Permalink to this headline">¶</a></h3>
<p>Use the following axiom and rules to create the arrowhead curve. Use an angle of 60 degrees.</p>
<table border="1" class="docutils">
<colgroup>
<col width="46%" />
<col width="54%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">FX</span></code></td>
<td>Axiom</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">-&gt;</span> <span class="pre">YF+XF+Y</span></code></td>
<td>Rule 1</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">Y</span> <span class="pre">-&gt;</span> <span class="pre">XF-YF-X</span></code></td>
<td>Rule 2</td>
</tr>
</tbody>
</table>

<div data-childcomponent="strings_l_systems_practice_3" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=strings_l_systems_practice_3 data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
          >
# adapt the template code given above to draw this image
</textarea>
</div>
</div>
<div class="section" id="peano-gosper-curve">
<h3>4.4.4. Peano-Gosper Curve<a class="headerlink" href="#peano-gosper-curve" title="Permalink to this headline">¶</a></h3>
<p>Use the following axiom and rules to create the Peano-Gosper curve. Use an angle of 60 degrees.</p>
<table border="1" class="docutils">
<colgroup>
<col width="60%" />
<col width="40%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">FX</span></code></td>
<td>Axiom</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">-&gt;</span> <span class="pre">X+YF++YF-FX--FXFX-YF+</span></code></td>
<td>Rule 1</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">Y</span> <span class="pre">-&gt;</span> <span class="pre">-FX+YFYF++YF+FX--FX-Y</span></code></td>
<td>Rule 2</td>
</tr>
</tbody>
</table>

<div data-childcomponent="strings_l_systems_practice_4" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=strings_l_systems_practice_4 data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
          >
# adapt the template code given above to draw this image
</textarea>
</div>
</div>
<div class="section" id="sierpinski-triangle">
<h3>4.4.5. Sierpinski Triangle<a class="headerlink" href="#sierpinski-triangle" title="Permalink to this headline">¶</a></h3>
<p>Use the following axiom and rules to create the Sierpinski Triangle. Use an angle of 60 degrees.</p>
<table border="1" class="docutils">
<colgroup>
<col width="56%" />
<col width="44%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">FXF--FF--FF</span></code></td>
<td>Axiom</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">F</span> <span class="pre">-&gt;</span> <span class="pre">FF</span></code></td>
<td>Rule 1</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">X</span> <span class="pre">-&gt;</span> <span class="pre">--FXF++FXF++FXF--</span></code></td>
<td>Rule 2</td>
</tr>
</tbody>
</table>

<div data-childcomponent="strings_l_systems_practice_5" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=strings_l_systems_practice_5 data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
          >
# adapt the template code given above to draw this image
</textarea>
</div>
</div>
<div class="section" id="snowflake">
<h3>4.4.6. Snowflake<a class="headerlink" href="#snowflake" title="Permalink to this headline">¶</a></h3>
<p>Use the following axiom and rules to create a snowflake shape. Use an angle of 72 degrees.</p>
<table border="1" class="docutils">
<colgroup>
<col width="56%" />
<col width="44%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">F-F-F-F-F</span></code></td>
<td>Axiom</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">F</span> <span class="pre">-&gt;</span> <span class="pre">F-F++F+F-F-F</span></code></td>
<td>Rule 1</td>
</tr>
</tbody>
</table>

<div data-childcomponent="strings_l_systems_practice_6" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=strings_l_systems_practice_6 data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
          >
# adapt the template code given above to draw this image
</textarea>
</div>
</div>
<div class="section" id="unnamed-shape">
<h3>4.4.7. Unnamed Shape<a class="headerlink" href="#unnamed-shape" title="Permalink to this headline">¶</a></h3>
<p><em>If you know the name of this shape, please tell me!</em></p>
<p>Use the following axiom and rules to create an interesting shape. Use an angle of 45 degrees.</p>
<table border="1" class="docutils">
<colgroup>
<col width="56%" />
<col width="44%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">L--F--L--F</span></code></td>
<td>Axiom</td>
</tr>
<tr class="row-even"><td><code class="docutils literal notranslate"><span class="pre">L</span> <span class="pre">-&gt;</span> <span class="pre">+R-F-R+</span></code></td>
<td>Rule 1</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal notranslate"><span class="pre">R</span> <span class="pre">-&gt;</span> <span class="pre">-L+F+L-</span></code></td>
<td>Rule 2</td>
</tr>
</tbody>
</table>

<div data-childcomponent="strings_l_systems_practice_7" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=strings_l_systems_practice_7 data-lang="python" 
      data-timelimit=25000    
    data-audio=''   
          >
# adapt the template code given above to draw this image
</textarea>
</div>
</div>
<div class="section" id="making-your-own-shapes">
<h3>4.4.8. Making Your Own Shapes<a class="headerlink" href="#making-your-own-shapes" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you have experimented with all of the shapes above, and are thinking about creating your own, look for symmetry in the rules given above…</p>
</div>
</div>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Previous Section - 3. String Methods' data-toggle="tooltip">
    <a href="StringMethods.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>
  <a class="navLinkBg" id="navLinkBgLeft"  href="StringMethods.html" ></a>
  
  <li id="relations-next" class="navLink" title='Next Section - 1. Using Lists' data-toggle="tooltip" >
    <a href="../Lists/ListOverview.html" >
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="../Lists/ListOverview.html" >Next Section - 1. Using Lists</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
    Created by Dan Schellenberg. <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
    </p>
  </div>
</footer>


  </body>
</html>