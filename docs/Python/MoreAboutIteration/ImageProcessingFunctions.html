<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>4. Functions and Image Processing &#8212; Computer Science 20 Saskatchewan</title>
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/accessibility.css?v=808B982A" />
    <link rel="stylesheet" type="text/css" href="../../_static/activecode.css?v=F471F95B" />
    <link rel="stylesheet" type="text/css" href="../../_static/codemirror.css?v=1CE53237" />
    <link rel="stylesheet" type="text/css" href="../../_static/clickable.css?v=58C4E18A" />
    <link rel="stylesheet" type="text/css" href="../../_static/pytutor.css?v=239FC54E" />
    <link rel="stylesheet" type="text/css" href="../../_static/modal-basic.css?v=8A1A42E4" />
    <link rel="stylesheet" type="text/css" href="../../_static/datafile.css?v=C184EB8A" />
    <link rel="stylesheet" type="text/css" href="../../_static/dragndrop.css?v=B9BAA0D1" />
    <link rel="stylesheet" type="text/css" href="../../_static/fitb.css?v=3BA0E63E" />
    <link rel="stylesheet" type="text/css" href="../../_static/matrixeq.css?v=58BC228F" />
    <link rel="stylesheet" type="text/css" href="../../_static/parsons.css?v=2F3E13EE" />
    <link rel="stylesheet" type="text/css" href="../../_static/js_lib/prettify.css?v=2A364B6B" />
    <link rel="stylesheet" type="text/css" href="../../_static/poll.css?v=E220AC33" />
    <link rel="stylesheet" type="text/css" href="../../_static/reveal.css?v=4A81D381" />
    <link rel="stylesheet" type="text/css" href="../../_static/showEval.css?v=C6382F3" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabbedstuff.css?v=424F1CC9" />
    <link rel="stylesheet" type="text/css" href="../../_static/video.css?v=E5385B3B" />
    <link rel="stylesheet" type="text/css" href="../../_static/webgldemo.css?v=B36B48D" />
    <link rel="stylesheet" type="text/css" href="../../_static/webglinteractive.css?v=910DF1E1" />
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootswatch/2.3.1/""/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/jquery-ui-1.10.3.custom.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/user-highlights.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/runestone-custom-sphinx-bootstrap.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/runestonebase.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <script type="text/javascript" src="../../_static/jquery.highlight.js?v=F1C496C8"></script>
    <script type="text/javascript" src="../../_static/bookfuncs.js?v=BAE6E360"></script>
    <script type="text/javascript" src="../../_static/codemirror.js?v=94F552C9"></script>
    <script type="text/javascript" src="../../_static/xml.js?v=236EDFF7"></script>
    <script type="text/javascript" src="../../_static/css.js?v=623153CE"></script>
    <script type="text/javascript" src="../../_static/python.js?v=14A28F1F"></script>
    <script type="text/javascript" src="../../_static/htmlmixed.js?v=33B91944"></script>
    <script type="text/javascript" src="../../_static/javascript.js?v=6F38CA04"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/CLDRPluralRuleParser.js?v=599B42B0"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.js?v=88A1430F"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.messagestore.js?v=AE15A4A1"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.fallbacks.js?v=8ABDFE7F"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.language.js?v=747279FF"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.parser.js?v=7B020E13"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.emitter.js?v=660E85C3"></script>
    <script type="text/javascript" src="../../_static/jquery_i18n/jquery.i18n.emitter.bidi.js?v=54B21948"></script>
    <script type="text/javascript" src="../../_static/activecode-i18n.en.js?v=3FBAE230"></script>
    <script type="text/javascript" src="../../_static/skulpt.min.js?v=DC7AC815"></script>
    <script type="text/javascript" src="../../_static/skulpt-stdlib.js?v=48A5D93E"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@4.0.0-rc.2/build/vega.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@2.5.0/build/vega-lite.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@3.14.0/build/vega-embed.js"></script>
    <script type="text/javascript" src="../../_static/activecode.js?v=9FA573E1"></script>
    <script type="text/javascript" src="../../_static/clike.js?v=2DCE0756"></script>
    <script type="text/javascript" src="../../_static/timed_activecode.js?v=5150FA78"></script>
    <script type="text/javascript" src="../../_static/animationbase.js?v=A043C3A7"></script>
    <script type="text/javascript" src="../../_static/mchoice.js?v=8329CA55"></script>
    <script type="text/javascript" src="../../_static/timedmc.js?v=B010A457"></script>
    <script type="text/javascript" src="../../_static/timed.js?v=6789FE30"></script>
    <script type="text/javascript" src="../../_static/clickable.js?v=9560E65E"></script>
    <script type="text/javascript" src="../../_static/timedclickable.js?v=93989C23"></script>
    <script type="text/javascript" src="../../_static/d3.v2.min.js?v=836E01C"></script>
    <script type="text/javascript" src="../../_static/jquery.ba-bbq.min.js?v=B64CF0A8"></script>
    <script type="text/javascript" src="../../_static/jquery.jsPlumb-1.3.10-all-min.js?v=42F9EBEA"></script>
    <script type="text/javascript" src="../../_static/pytutor.js?v=82B022B9"></script>
    <script type="text/javascript" src="../../_static/codelens.js?v=CABECD49"></script>
    <script type="text/javascript" src="../../_static/datafile.js?v=3ED1A80C"></script>
    <script type="text/javascript" src="../../_static/dragndrop.js?v=2B6403E8"></script>
    <script type="text/javascript" src="../../_static/timeddnd.js?v=378F237E"></script>
    <script type="text/javascript" src="../../_static/fitb.js?v=8E40E713"></script>
    <script type="text/javascript" src="../../_static/timedfitb.js?v=2AA17071"></script>
    <script type="text/javascript" src="../../_static/matrixeq.js?v=D64CFA5A"></script>
    <script type="text/javascript" src="../../_static/js_lib/prettify.js?v=CA7E8928"></script>
    <script type="text/javascript" src="../../_static/js_lib/hammer.min.js?v=73056367"></script>
    <script type="text/javascript" src="../../_static/parsons.js?v=93EFFF39"></script>
    <script type="text/javascript" src="../../_static/timedparsons.js?v=2EEA9E5A"></script>
    <script type="text/javascript" src="../../_static/poll.js?v=6C59AE9F"></script>
    <script type="text/javascript" src="../../_static/reveal.js?v=112CBFA2"></script>
    <script type="text/javascript" src="../../_static/shortanswer.js?v=5EB6170D"></script>
    <script type="text/javascript" src="../../_static/timed_shortanswer.js?v=B3A117D7"></script>
    <script type="text/javascript" src="../../_static/showEval.js?v=C5CE0C81"></script>
    <script type="text/javascript" src="../../_static/tabbedstuff.js?v=5BE6106"></script>
    <script type="text/javascript" src="../../_static/runestonevideo.js?v=53E888DE"></script>
    <script type="text/javascript" src="../../_static/webglinteractive.js?v=2B768384"></script>
    <script type="text/javascript" src="../../_static/FileSaver.min.js?v=8408C997"></script>
    <script type="text/javascript" src="../../_static/Blob.js?v=AEC2447"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../_static/jquery-ui-1.10.3.custom.min.js"></script>
    <script type="text/javascript" src="../../_static/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <script type="text/javascript" src="../../_static/waypoints.min.js"></script>
    <script type="text/javascript" src="../../_static/rangy-core.js"></script>
    <script type="text/javascript" src="../../_static/rangy-textrange.js"></script>
    <script type="text/javascript" src="../../_static/rangy-cssclassapplier.js"></script>
    <script type="text/javascript" src="../../_static/user-highlights.js"></script>
    <script type="text/javascript" src="../../_static/jquery.idle-timer.js"></script>
    <script type="text/javascript" src="../../_static/processing-1.4.1.min.js"></script>
    <script type="text/javascript" src="../../_static/jquery.hotkey.js"></script>
    <script type="text/javascript" src="../../_static/jquery-migrate-1.2.1.min.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="1. String Index, Length, Slicing and Traversal" href="../Strings/StringIntro.html" />
    <link rel="prev" title="3. Image Processing With Conditionals" href="ImageProcessingWithSelection.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
<link rel="shortcut icon" href="/runestone/static/favicon.ico" type="image/ico" />

<script type="text/javascript">
  eBookConfig = {};
  eBookConfig.host = 'http://127.0.0.1:8000' ? 'http://127.0.0.1:8000' : 'http://127.0.0.1:8000';
  eBookConfig.app = eBookConfig.host+'/runestone';
  eBookConfig.ajaxURL = eBookConfig.app+'/ajax/';
  eBookConfig.course = 'cs20sk';
  eBookConfig.logLevel = 0;
  eBookConfig.loginRequired = false;
  eBookConfig.build_info = "unknown";
  eBookConfig.isLoggedIn = false;
  eBookConfig.useRunestoneServices = false;
  eBookConfig.python3 = true;
  eBookConfig.basecourse = 'cs20sk';
  eBookConfig.runestone_version = '3.4.4';
</script>



  </head><body>


<!-- Begin navbar -->
<div id="navbar" class="navbar navbar-default navbar-fixed-top" role="navigation">

  <div class="container">

    <div class="navbar-header">
      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
      <button type='button' class='navbar-toggle' data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div>
        <a class="brand-logo" style='background: transparent url("../../_static/img/logo_small.png") no-repeat 0px 0px;' href="../../index.html">&nbsp; </a>
        <a class="navbar-brand" href="../../index.html">Computer Science 20 - Saskatchewan</a>
      </div>
    </div>

    <div class="navbar-collapse collapse navbar-ex1-collapse">

      <ul class="nav navbar-nav navbar-right">

        <li class="divider-vertical"></li>

        <!-- search dropdown -->
        <li class="dropdown">
          <a class="dropdown-toggle" href="#" data-toggle="dropdown">
            <i class="glyphicon glyphicon-search" style='opacity:0.9;'></i>
          </a>
          <ul class='dropdown-menu'>
            
                <li><a href='../../index.html'>Table of Contents</a></li>
            
            <li><a href='/genindex.html'>Book Index</a></li>
            <li class="divider"></li>
            <li id="scratch_ac_link"><a href="javascript:ACFactory.toggleScratchActivecode()">ActiveCode Work Area</a></li>
            <li class="divider"></li>
            <li style="width: 240px;">
              <form class="navbar-search" style="margin:10px;" action="../../search.html" method="get">
                <div class="input-group">
                  <input type="text" class="form-control" name="q" placeholder="Search this book" />
                  <span class="input-group-btn">
                    <button class="btn btn-primary" style="margin:0;" type="submit">
                      <i class="glyphicon glyphicon-search"></i>
                    </button>
                  </span>
                </div><!-- /input-group -->
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
            </li>
          </ul>
        </li>
        <!-- end search dropdown -->

        <li class="divider-vertical"></li>

      </ul>

      <ul class="nav navbar-nav">
        <li class="divider-vertical"></li>
        <!--
          <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">4. Functions and Image Processing</a><ul>
<li><a class="reference internal" href="#image-conversion-with-functions">4.1. Image Conversion with Functions</a></li>
<li><a class="reference internal" href="#controlling-image-manipulation-with-micro-bit">4.2. Controlling Image Manipulation with Micro:bit</a><ul>
<li><a class="reference internal" href="#try-this">4.2.1. Try This</a></li>
</ul>
</li>
<li><a class="reference internal" href="#practice-problems">4.3. Practice Problems</a><ul>
<li><a class="reference internal" href="#red-remover-function">4.3.1. Red Remover Function</a></li>
<li><a class="reference internal" href="#your-choice">4.3.2. Your Choice</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
          <li class="divider-vertical"></li>
        
        
          
  <li id="relations-prev" title="Previous Chapter - 3. Image Processing With Conditionals" data-toggle="tooltip">
    <a href="ImageProcessingWithSelection.html" >
      <i class='glyphicon glyphicon-backward' style='opacity:0.9;'></i>
    </a>
  </li>
  
  <li id="relations-next" title='Next Chapter - 1. String Index, Length, Slicing and Traversal' data-toggle="tooltip" >
    <a href="../Strings/StringIntro.html" >
      <i class='glyphicon glyphicon-forward' style='opacity:0.9;'></i>
    </a>
  </li>
  <li class="divider-vertical"></li>

<script type="text/javascript">
  opts = {'placement':'bottom',
          'selector': '',
          'delay': { show: 100, hide: 50}
         };

  $('#relations-prev').tooltip(opts);
  $('#relations-next').tooltip(opts);
</script>
        -->
        
          <li></li>
        
      </ul>

    </div>
  </div>
</div>


<div class="container" id="continue-reading"></div>

<div class="container" id="main-content">
  
  <div class="section" id="functions-and-image-processing">
<h1>4. Functions and Image Processing<a class="headerlink" href="#functions-and-image-processing" title="Permalink to this headline">¶</a></h1>
<div class="topic">
<p class="topic-title first">Quick Overview of Day</p>
<p>Use nested loops to practice simple image processing.</p>
</div>

    <div data-component="reveal" id="curriculum_addressed_image_processing_functions"   data-showtitle="Curriculum Outcomes Addressed In This Section" data-hidetitle="Hide" >
    <ul class="simple">
<li><strong>CS20-CP1</strong> Apply various problem-solving strategies to solve programming problems throughout Computer Science 20.</li>
<li><strong>CS20-FP1</strong> Utilize different data types, including integer, floating point, Boolean and string, to solve programming problems.</li>
<li><strong>CS20-FP2</strong> Investigate how control structures affect program flow.</li>
<li><strong>CS20-FP3</strong> Construct and utilize functions to create reusable pieces of code.</li>
</ul>

    </div>
    <div class="section" id="image-conversion-with-functions">
<h2>4.1. Image Conversion with Functions<a class="headerlink" href="#image-conversion-with-functions" title="Permalink to this headline">¶</a></h2>
<p>In a previous lesson, we used code similar to the following, which increases the amount of green in an image:</p>

<div data-childcomponent="increase_color_amount_now_with_functions" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=increase_color_amount_now_with_functions data-lang="python" 
      data-timelimit=180000    
    data-audio=''     
          >
import image

img = image.Image("sneakers.jpg")
canvas = image.ImageWin(img.get_width(), img.get_height())
img.draw(canvas)

for row in range(img.get_height()):
    for col in range(img.get_width()):
        p = img.get_pixel(col, row)

        new_red = p.get_red()
        new_green = p.get_green() + 50
        new_blue = p.get_blue()

        new_pixel = image.Pixel(new_red, new_green, new_blue)

        img.set_pixel(col, row, new_pixel)

    # unindent the following line to remove the "animation"
    img.draw(canvas)
</textarea>
</div>
<p>When we were learning how to draw with the turtle module, we took code that allowed us to draw a square, and converted it into a function. In a similar fashion, we can convert our image manipulation code into a function, and call it whenever we would like to manipulate some image. In the code shown below, I have created a function that takes in an image and a number representing the amount to add to the green colour channel, then increases the amount of green for each pixel, and finally returns the changed image.</p>

<div data-childcomponent="increase_green_function_another" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=increase_green_function_another data-lang="python" 
      data-timelimit=180000    
    data-audio=''     
          >
import image

def increase_green(original_image, amount_of_green_to_add):
    width = original_image.get_width()
    height = original_image.get_height()
    new_image = image.EmptyImage(width, height)
    for row in range(height):
        for col in range(width):
            p = original_image.get_pixel(col, row)

            new_red = p.get_red()
            new_green = p.get_green() + amount_of_green_to_add
            new_blue = p.get_blue()

            new_pixel = image.Pixel(new_red, new_green, new_blue)

            new_image.set_pixel(col, row, new_pixel)
    return new_image


img = image.Image("sneakers.jpg")
win = image.ImageWin(img.get_width(), img.get_height())
img.draw(win)

converted_img = increase_green(img, 50)

converted_img.draw(win)
</textarea>
</div>
<p>Notice that in the function, an EmptyImage <em>of the same size as the original image</em> was created. We then iterate through every pixel in the original image, extract the RGB values from each pixel, increase the amount in the green channel, then set the corresponding pixel in the <strong>new</strong> image (the one that began as an EmptyImage). Because this is a fruitful function (which returns a image object), we can set the result to a variable, which is called <code class="docutils literal notranslate"><span class="pre">converted_img</span></code> below.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you’d like the function to animate while it runs, you can rewrite the function to have a parameter for the ImageWin to draw to, as follows:</p>

<div data-childcomponent="increase_green_function_2_another" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=increase_green_function_2_another data-lang="python" 
      data-timelimit=180000    
    data-audio=''     
          >
import image

def increase_green(original_image, amount_of_green_to_add, the_window):
    width = original_image.get_width()
    height = original_image.get_height()
    new_image = image.EmptyImage(width, height)

    original_image.draw(the_window)

    for row in range(height):
        for col in range(width):
            p = img.get_pixel(col, row)

            new_red = p.get_red()
            new_green = p.get_green() + amount_of_green_to_add
            new_blue = p.get_blue()

            new_pixel = image.Pixel(new_red, new_green, new_blue)

            new_image.set_pixel(col, row, new_pixel)
        new_image.draw(the_window)
    return new_image


img = image.Image("sneakers.jpg")
win = image.ImageWin(img.get_width(), img.get_height())

converted_img = increase_green(img, 50, win)
converted_img.draw(win)
</textarea>
</div>
</div>
</div>
<div class="section" id="controlling-image-manipulation-with-micro-bit">
<h2>4.2. Controlling Image Manipulation with Micro:bit<a class="headerlink" href="#controlling-image-manipulation-with-micro-bit" title="Permalink to this headline">¶</a></h2>
<p>Now that we can organize our image manipulation code using functions, it makes it simple to call these image manipulation functions when a specific event occurs. For example, we might want to call the <code class="docutils literal notranslate"><span class="pre">increase_green</span></code> function when the A button on the Micro:bit is pressed. To make things more interesting, we will first get the accelerometer value on the x axis (to determine how much the Micro:bit is tilted to the left or right), and use the resulting value as the <code class="docutils literal notranslate"><span class="pre">amount_of_green_to_add</span></code> argument we pass to the <code class="docutils literal notranslate"><span class="pre">increase_green</span></code> function. Since the accelerometer value will be negative when the Micro:bit is tilted to the left, if we press the A button while tilting to the left, we will remove green from the image. If the Micro:bit is tilted to the right, the accelerometer value will be positive, so we will add green to the image.</p>
<p>Rather than have the second button sit idle, we will execute a different image manipulation function when the B button is pressed. For this example, I chose to take the negative of the image when the B button is pressed.</p>
<p>Finally, it would be nice to have a way to end the program when we are done playing with images. To accomplish this, I created a <code class="docutils literal notranslate"><span class="pre">still_playing</span></code> variable and set it to <code class="docutils literal notranslate"><span class="pre">True</span></code>. When you flip the Micro:bit over (so the LEDs are facing the ground), the z axis becomes positive, and we change the <code class="docutils literal notranslate"><span class="pre">still_playing</span></code> variable to be <code class="docutils literal notranslate"><span class="pre">False</span></code>. This causes the loop to exit, ending our program.</p>
<p>Before running the following program in Thonny, be sure to save this image in the same folder as your Python code:</p>
<img src="../../_static/sneakers.jpg"><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">image</span>
<span class="kn">import</span> <span class="nn">microbit</span>

<span class="k">def</span> <span class="nf">increase_green</span><span class="p">(</span><span class="n">original_image</span><span class="p">,</span> <span class="n">amount_of_green_to_add</span><span class="p">):</span>
    <span class="n">width</span> <span class="o">=</span> <span class="n">original_image</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">original_image</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
    <span class="n">new_image</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">EmptyImage</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">height</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">width</span><span class="p">):</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">original_image</span><span class="o">.</span><span class="n">get_pixel</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>

            <span class="n">new_red</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_red</span><span class="p">()</span>
            <span class="n">new_green</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_green</span><span class="p">()</span> <span class="o">+</span> <span class="n">amount_of_green_to_add</span>
            <span class="n">new_blue</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_blue</span><span class="p">()</span>

            <span class="n">new_pixel</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">Pixel</span><span class="p">(</span><span class="n">new_red</span><span class="p">,</span> <span class="n">new_green</span><span class="p">,</span> <span class="n">new_blue</span><span class="p">)</span>

            <span class="n">new_image</span><span class="o">.</span><span class="n">set_pixel</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">new_pixel</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">new_image</span>

<span class="k">def</span> <span class="nf">negative</span><span class="p">(</span><span class="n">original_image</span><span class="p">):</span>
    <span class="n">width</span> <span class="o">=</span> <span class="n">original_image</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span>
    <span class="n">height</span> <span class="o">=</span> <span class="n">original_image</span><span class="o">.</span><span class="n">get_height</span><span class="p">()</span>
    <span class="n">new_image</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">EmptyImage</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">height</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">width</span><span class="p">):</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">original_image</span><span class="o">.</span><span class="n">get_pixel</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>

            <span class="n">new_red</span> <span class="o">=</span> <span class="mi">255</span> <span class="o">-</span> <span class="n">p</span><span class="o">.</span><span class="n">get_red</span><span class="p">()</span>
            <span class="n">new_green</span> <span class="o">=</span> <span class="mi">255</span> <span class="o">-</span> <span class="n">p</span><span class="o">.</span><span class="n">get_green</span><span class="p">()</span>
            <span class="n">new_blue</span> <span class="o">=</span> <span class="mi">255</span> <span class="o">-</span> <span class="n">p</span><span class="o">.</span><span class="n">get_blue</span><span class="p">()</span>

            <span class="n">new_pixel</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">Pixel</span><span class="p">(</span><span class="n">new_red</span><span class="p">,</span> <span class="n">new_green</span><span class="p">,</span> <span class="n">new_blue</span><span class="p">)</span>

            <span class="n">new_image</span><span class="o">.</span><span class="n">set_pixel</span><span class="p">(</span><span class="n">col</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">new_pixel</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">new_image</span>


<span class="n">img_file</span> <span class="o">=</span> <span class="s2">&quot;sneakers.jpg&quot;</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="n">img_file</span><span class="p">)</span>
<span class="n">win</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">ImageWin</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">get_width</span><span class="p">(),</span> <span class="n">img</span><span class="o">.</span><span class="n">get_height</span><span class="p">())</span>
<span class="n">img</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>


<span class="n">still_playing</span> <span class="o">=</span> <span class="bp">True</span>

<span class="k">while</span> <span class="n">still_playing</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">microbit</span><span class="o">.</span><span class="n">button_a</span><span class="o">.</span><span class="n">was_pressed</span><span class="p">():</span>
        <span class="n">x_tilt</span> <span class="o">=</span> <span class="n">microbit</span><span class="o">.</span><span class="n">accelerometer</span><span class="o">.</span><span class="n">get_x</span><span class="p">()</span>
        <span class="n">converted_img</span> <span class="o">=</span> <span class="n">increase_green</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">x_tilt</span><span class="p">)</span>
        <span class="n">converted_img</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">microbit</span><span class="o">.</span><span class="n">button_b</span><span class="o">.</span><span class="n">was_pressed</span><span class="p">():</span>
        <span class="n">converted_img</span> <span class="o">=</span> <span class="n">negative</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
        <span class="n">converted_img</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">win</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">microbit</span><span class="o">.</span><span class="n">accelerometer</span><span class="o">.</span><span class="n">get_z</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">still_playing</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>
</div>
<div class="section" id="try-this">
<h3>4.2.1. Try This<a class="headerlink" href="#try-this" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>implement a different image manipulation algorithm, and replace the negative function with your new function (in other words, your function should execute when the B button is pressed)</li>
<li>save more than one image file into the folder containing your Python code, and switch which image is being manipulated based on when the Micro:bit is tilted very far up, or very far down (on the y-axis).</li>
</ul>
</div>
</div>
<div class="section" id="practice-problems">
<h2>4.3. Practice Problems<a class="headerlink" href="#practice-problems" title="Permalink to this headline">¶</a></h2>
<p>For the following problems, use one of these images:</p>
<img src="../../_static/skflag.png" id="skflag.png">
<h4 style="text-align: center;">skflag.png</h4><img src="../../_static/moon.jpg" id="moon.jpg">
<h4 style="text-align: center;">moon.jpg</h4><img src="../../_static/sneakers.jpg" id="sneakers.jpg">
<h4 style="text-align: center;">sneakers.jpg</h4><img src="../../_static/rooster.jpg" id="rooster.jpg">
<h4 style="text-align: center;">rooster.jpg</h4><div class="section" id="red-remover-function">
<h3>4.3.1. Red Remover Function<a class="headerlink" href="#red-remover-function" title="Permalink to this headline">¶</a></h3>
<p>Create a function called <code class="docutils literal notranslate"><span class="pre">red_remover(original_image)</span></code> that performs an image manipulation and returns the changed image. The function remove all of the red channel, but leave the green and blue amounts unchanged.</p>

<div data-childcomponent="practice_problem_red_remover_function" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=practice_problem_red_remover_function data-lang="python" 
      data-timelimit=180000   data-enabledownload="true" 
    data-audio=''     
          >
import image

def red_remover(original_image):
    # your code goes here!
    return new_image


img = image.Image("sneakers.jpg")
win = image.ImageWin(img.get_width(), img.get_height())

converted_img = red_remover(img)
converted_img.draw(win)
</textarea>
</div>
</div>
<div class="section" id="your-choice">
<h3>4.3.2. Your Choice<a class="headerlink" href="#your-choice" title="Permalink to this headline">¶</a></h3>
<p>Look back at the last few sections, and pick 2 image manipulation practice problems. Convert these into functions, then control them with the Micro:bit. Call one of these functions when the A button is pressed, and the other function when the B button is pressed.</p>

<div data-childcomponent="practice_problem_your_choice" class="runestone explainer ac_section alert alert-warning">

<textarea data-component="activecode" id=practice_problem_your_choice data-lang="python" 
      data-timelimit=180000   data-enabledownload="true" 
    data-audio=''     
          >
# you will want to use Thonny for this question...
</textarea>
</div>
</div>
</div>
</div>


  
      
  <li id="relations-prev" class="navLink" title='Previous Section - 3. Image Processing With Conditionals' data-toggle="tooltip">
    <a href="ImageProcessingWithSelection.html" >
      <i class='prevNav glyphicon glyphicon-chevron-left'></i>
    </a>
  </li>
  <a class="navLinkBg" id="navLinkBgLeft"  href="ImageProcessingWithSelection.html" ></a>
  
  <li id="relations-next" class="navLink" title='Next Section - 1. String Index, Length, Slicing and Traversal' data-toggle="tooltip" >
    <a href="../Strings/StringIntro.html" >
      <i id="relationsNextIcon" class='nextNav glyphicon glyphicon-chevron-right'></i>
    </a>
  </li>
  <a class="navLinkBg navLink" id="navLinkBgRight" href="../Strings/StringIntro.html" >Next Section - 1. String Index, Length, Slicing and Traversal</a>

<script type="text/javascript">

  $('#relations-prev').tooltip({'placement':'right', 'selector': '', 'delay': { show: 100, hide: 50}});
  $('#relations-next').tooltip({'placement':'left', 'selector': '', 'delay': { show: 100, hide: 50}});
  
</script>
  
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      
      | <a href="#">Back to top</a>
      
    </p>
    <p>
    Created by Dan Schellenberg. <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons Licence" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a> This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
    </p>
  </div>
</footer>


  </body>
</html>